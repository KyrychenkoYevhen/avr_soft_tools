<html>
	<head>
		<meta content="http://schemas.microsoft.com/intellisense/ie5" name="vs_targetSchema">
		<LINK href="style.css" type="text/css" rel="stylesheet">
	</head>
	<body>
		<table class="mes_table" border="1">
			<tr class="prop_cap">
				<td width="10%"><IMG src="../elements/Delphi/icon/hiplugs.ico"></td>
				<td align="center">HiPlugs</td>
			</tr>
			<tr>
				<td style="PADDING-RIGHT: 4px; PADDING-LEFT: 4px; HEIGHT: 639px" colSpan="2">
					<P align="justify">&nbsp;Как и следует из названия, этот компонент, а точнее проект 
						на основе компонента, служит для написания плагинов для оболочки Конструктора. 
						Эти плагины по своему назначению ни чем не отличаются от любых других - они так 
						же служат для функционального расширения программы, однако они в отличие от 
						себе подобных, пишутся так же без единой строчки кода, и могут быть по прежнему 
						реализованы любым пользователем HiAsm.
					</P>
					<P align="justify">&nbsp;<STRONG>События:</STRONG></P>
					<table class="mes_table" cellspacing="3" border="1">
						<tr>
							<td valign="top" width="130">onCommand</td>
							<td>
								<P align="justify">
									событие происходит всякий раз при нажатие кнопки или элемента меню панели 
									инструментов и выдает в поток её имя. Еще одним полезным свойством данного 
									события является возможность реагировать на свои собственные кнопки. Для этого 
									вам необходимо всего лишь&nbsp;зарегестрировать свою команду в среде с помощью 
									Редактора команд и затем обрабатывать её в плагине путем&nbsp; проверки 
									возвращаемого событием значения. Как это реализуется на примере можно 
									посмотреть в&nbsp;файле int\plugs\std.sha для комманд upload и rooms.</P>
							</td>
						</tr>
						<tr>
							<td valign="top">onKeyDown</td>
							<td>событие происходит всякий раз после нажатие клавиши в программе. Тут сказать 
								более того, что написано&nbsp;нечего. Ставите на выход&nbsp;события каскады из 
								компонент KeyMask(маска клавиш) и реализуете свои действия.</td>
						</tr>
						<tr>
							<td valign="top">onInit</td>
							<td>событие происходит один раз при загрузке плагина в память компьютера. После 
								него вы можете размещать схему инициализации вашего плагина( нарпимер, 
								загружать параметры из реестра или файла ).</td>
						</tr>
						<tr>
							<td valign="top">onChat</td>
							<td>
								<P>событие извещает плагин(в случае его использования) об изменение состояния чата 
									в виде текстовых команд в&nbsp;формате:</P>
								<P>&nbsp;#&lt;Имя команды&gt;:&lt;её параметры&gt;</P>
								<P>В таблице ниже приведен список всех команд, выдаваемых чатом, а так же их 
									параметры:</P>
								<table class="mes_table" border="1" align="center" ID="Table2">
									<tr class="down_sel">
										<td>Команда
										</td>
										<td>Назначение</td>
										<td>Параметры</td>
									</tr>
									<tr>
										<td>ERROR</td>
										<td>Любая ошибка, возникшая в чате</td>
										<td>Текст ошибки</td>
									</tr>
									<tr>
										<td>TEXT</td>
										<td>Пришло новое сообщение от пользователя чата</td>
										<td>Текст сообщения с именем отправителя</td>
									</tr>
									<tr>
										<td>MEMO</td>
										<td>Польщователь нажал клавишу&nbsp;Enter в поле ввода текста</td>
										<td>Текст&nbsp;введенный пользователем</td>
									</tr>
									<tr>
										<td>LIST</td>
										<td>Обновился список пользователей</td>
										<td>Ники всех пользователей через запятую</td>
									</tr>
									<TR>
										<TD>JOIN</TD>
										<TD>В чат вошел новый пользователь</TD>
										<TD>Ник пользователя</TD>
									</TR>
									<TR>
										<TD>QUIT</TD>
										<TD>Пользователь вышел из чата</TD>
										<TD>Ник пользователя</TD>
									</TR>
									<TR>
										<TD>PART</TD>
										<TD>Пользователь вышел из канала</TD>
										<TD>Ник пользователя</TD>
									</TR>
									<TR>
										<TD>JOINED</TD>
										<TD>Процедура регистрации в чате прошла успешно</TD>
										<TD>---</TD>
									</TR>
									<!--tr>
                                        <td></td>
                                        <td></td>
                                        <td></td>
                                    </tr-->
								</table>
							</td>
						</tr>
						<TR>
							<TD vAlign="top">onCmdEnabled</TD>
							<TD>это событие предназначено для управление статусом пользовательских команд. Если 
								данная команда должна быть доступна для выполнения, то плагин должен вызвать 
								парный метод&nbsp;doCmdEnabled с именем команды в потоке. Соответственно этот 
								метод нужно вызвать для каждой команды, которую вы используете и которая 
								раздрешена в данный момент. Если же&nbsp;после этого события для какой-то 
								команды не будет вызван метод doCmdEnabled, то она останется 
								недоступной.&nbsp;Пример обработки этого события так же можно посмотреть в 
								файле int\plugs\std.sha.</TD>
						</TR>
						<TR>
							<TD vAlign="top">onCmdCompleting</TD>
							<TD>событие аналогично событию&nbsp;onCommand только происходит после выполнения 
								команды</TD>
						</TR>
					</table>
					<P align="justify">&nbsp;<STRONG>Методы:</STRONG></P>
					<table class="mes_table" cellspacing="3" border="1" ID="Table1">
						<tr>
							<td width="130" valign="top">doDebug</td>
							<td>выводит текст в поле на вкладке "Отладка". Возможно, вам будет необходимо 
								отлаживать свои плагины, и тогда вы можете воспользоваться этим методом. Хотя 
								конечно обычные способы отладки остаются по прежнему доступны. У данного метода 
								имеется одна зарезервированная команда: CLEAR(большими буквами) - отчищает окно 
								отладки</td>
						</tr>
						<tr>
							<td valign="top">doOpen</td>
							<td>команды данного метода полностью аналогичны командам компонента 
								LinkTip(гиперссылка), прочесть о которых можно тут <A href="*Example*tutorial\intro.sha">
									Intro.sha</A></td>
						</tr>
						<tr>
							<td valign="top">doInterface</td>
							<td>Управление интерфейсом программы. Поддерживаемые методом команды:<br>
								<br>
								<table class="mes_table" border="1" align="center">
									<tr class="down_sel">
										<td>Команда
										</td>
										<td>Назначение</td>
									</tr>
									<tr>
										<td>proj_man:[bool]</td>
										<td>&nbsp;управление&nbsp;Каталогом проектов</td>
									</tr>
									<tr>
										<td>tabs:[bool]</td>
										<td>&nbsp;управление Вкладками</td>
									</tr>
									<tr>
										<td>prop:[bool]</td>
										<td>&nbsp;управление Панельлью параметров</td>
									</tr>
								</table>
								<P align="justify">здесь [bool] - может принимать значения&nbsp;on, true или 1 для 
									показа панелей и off, false или 0 для их скрытия.</P>
							</td>
						</tr>
						<tr>
							<td valign="top">doChat</td>
							<td>отправка команд чату в виде текстовых команд в&nbsp;формате:
								<P></P>
								<P>&nbsp;#&lt;Имя команды&gt;:&lt;её параметры&gt;</P>
								<P>В таблице ниже приведен список всех команд,&nbsp;а так же их параметры:</P>
								<table class="mes_table" border="1" align="center" ID="Table3">
									<tr class="down_sel">
										<td>Команда
										</td>
										<td>Назначение</td>
										<td>Параметры</td>
									</tr>
									<tr>
										<td>CLEAR</td>
										<td>
											Отчистка области вывода сообщений</td>
										<td>
											(нет)</td>
									</tr>
									<tr>
										<td>TEXT</td>
										<td>Отправка сообщений</td>
										<td>Текст сообщения</td>
									</tr>
									<tr>
										<td>MEMO</td>
										<td>Вывод текста в&nbsp;область вывода сообщений</td>
										<td>Текст</td>
									</tr>
									<tr>
										<td>LIST</td>
										<td>Обновление списка пользователей</td>
										<td>(нет)</td>
									</tr>
									<tr>
										<td>EXIT</td>
										<td>Выход из чата</td>
										<td>(нет)</td>
									</tr>
								</table>
								<P>пояснения к использованию команд:</P>
								<UL>
									<LI>
									TEXT - этой командой текст отправляется на сервер, где пересылается всем 
									пользователям, однако в область вывода сообщений он не 
									дублируется.&nbsp;Поэтому в случае необходимости можно&nbsp;самостоятельно 
									сделать это командой MEMO
									<LI>
									В командах TEXT и MEMO можно использовать встроенную переменную %u - user, 
									которая содержит Ник текущего пользователя(если он был зарегестрирован)
									<LI>
										EXIT - вызов этой команды происходит автоматически при выходе из HiAsm</LI></UL>
							</td>
						</tr>
						<TR>
							<TD vAlign="top">doCmdEnabled</TD>
							<TD>устанавливает статус пользовательской команды</TD>
						</TR>
						<TR>
							<TD vAlign="top">doRegPanel</TD>
							<TD>(не реализован)</TD>
						</TR>
						<!--tr>
                            <td></td>
                            <td></td>
                        </tr-->
					</table>
					<P align="justify">&nbsp;<STRONG>Свойства:</STRONG></P>
					<table class="mes_table" cellspacing="3" border="1" ID="Table4">
						<tr>
							<td valign="top" width="130">FileName</td>
							<td>
								Содержит полное имя открытого в данный момент проекта
							</td>
						</tr>
						<tr>
							<td valign="top">Handle</td>
							<td>Содержит идентификатор программы благодаря которому можно получить доступ к 
								таким параметрам главной формы как размер, положение, текст заголовка и прочее.</td>
						</tr>
						<tr>
							<td valign="top">Desktop</td>
							<td>Содержит массив некоторых параметров программы:
								<table class="mes_table" border="1" align="center" ID="Table5">
									<tr class="down_sel">
										<td align="center">Индекс
										</td>
										<td align="center">Параметр</td>
									</tr>
									<tr>
										<td align="center">0</td>
										<td>Имя класса выделенного элемента(если выделен только один элемент)</td>
									</tr>
									<tr>
										<td align="center">1</td>
										<td>
											Кол-во выделенных элементов схемы</td>
									</tr>
									<tr>
										<td align="center">2</td>
										<td>
											Идентификатор элемента</td>
									</tr>
									<tr>
										<td align="center" style="HEIGHT: 19px">3</td>
										<td style="HEIGHT: 19px">Кол-во элементов схемы в текущем модуле</td>
									</tr>
									<tr>
										<td align="center">4</td>
										<td>Кол-во элементов схемы во всем проекте</td>
									</tr>
									<TR>
										<TD align="center">5</TD>
										<TD>Имя текущего пользователя</TD>
									</TR>
								</table>
							</td>
						</tr>
					</table>
					<P align="justify">&nbsp;<FONT color="#ff0000">Важно! Если вы сохраните ваш проект в 
							папке \int\plugs и будете работать в этой директории, то при сборке проекта 
							HiAsm автоматически перезагрузит измененный плагин, и вы тут же получите 
							возможность работать с ним. В противном же случае вам всякий раз после 
							очередной сборки плагина придется выходить из программы и вручную переписывать 
							файл *.dll в папку \int\plugs</FONT></P>
				</td>
			</tr>
			<TR>
				<td class="down_sel" colSpan="2" DESIGNTIMEURL="*Example*tutorial\intro.sha">&nbsp;Примеры:
					<a href="*Example*int/plugs/std.sha">Std</a>,<a href="*Example*int/plugs/chat.sha">Chat</a></td>
			</TR>
		</table>
	</body>
</html>
