<html>
	<head>
		<meta content="http://schemas.microsoft.com/intellisense/ie5" name="vs_targetSchema">
		<link type="text/css" rel="stylesheet" href="style.css">
	</head>
	<body>
		<table class="mes_table" border="1">
			<tr class="prop_cap">
				<td width="10%"><IMG src="../elements/delphi/icon/service.ico"></td>
				<td align="center">Использование фоновых программ(Service).</td>
			</tr>
			<tr>
				<td style="PADDING-RIGHT: 4px; PADDING-LEFT: 4px" colSpan="2">
					<P>&nbsp;Наряду с обычными интерфейсными программами Windows, HiAsm предоставляет 
						возможность написать так называемые фоновые программы, т.е. программы не 
						имеющие форм и соответственно не могущие использовать никакие визуальные 
						компоненты. Одним словом,&nbsp;фоновые программы - это приложения, которые 
						постоянно находятся в памяти и выполняют какую-то работу после прихода запроса 
						к ним. Такой работой может стать, например, закачка фйла из интернета в 
						определенные промежутки времени или проверка доступности компьютера в сети или 
						что-то еще, что не требует контроля со стороны пользователя.
					</P>
					<P>&nbsp;На данный момент существует только один нормальный способ "общения" 
						фонового приложения с внешним миром - это UDP сокеты, которые находятся на 
						вкладке Internet. Благодаря им вы можете посылать какие-нибудь&nbsp;команды 
						вашему приложению для выполнения тех или иных задач. И с их же помощью отсылать 
						подтверждение об их приеме и выполнение.
					</P>
					<P>&nbsp;Пример реализации фонового приложения и программы для отправки команд вы 
						можете найти в папке Example\System\Service из стандартного пакета HiAsm. Тут 
						программа с именем <a href="*Example*example\system\Service\Server.sha">Server</a>
						- это и есть фоновое приложение, которое по UDP сокету может принимать и 
						обрабатывать две команды: ping - проверка состояния сервиса, stop - выход из 
						программы. Сразу стоит отметить, что для такого типа программы необходимо 
						устанавливать параметр Wait=True для того, чтобы программа не завершала свою 
						работу сразу после запуска, а висела в памяти до вызова метода doStop. Вторая 
						программа <a href="*Example*example\system\Service\Client.sha">Client</a> - 
						клиентская программа для взаимодействия с нашим сервисом. Все, что она делает 
						это отсылает все теже две&nbsp;команды серверу.
					</P>
					<P>&nbsp;И последнее, что хотелось бы сказать о фоновых приложениях-сервисах. Так 
						как взаимодействие между ними и программами клиентами строится с помощью UDP 
						сокетов, то ничто не мешает нам запускать их на удаленных машинах и управлять с 
						какой-то одной, что очень полезно, например, системным администраторам в 
						игровых клубах...<br>
					</P>
				</td>
			</tr>
			<tr>
				<td class="down_sel" colSpan="2">&nbsp;Примеры: <a href="*Example*example/system/service/Server.sha">
						Server</a></td>
			</tr>
		</table>
	</body>
</html>
