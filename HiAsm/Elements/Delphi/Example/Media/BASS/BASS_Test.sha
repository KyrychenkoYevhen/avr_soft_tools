Make(delphi)
ver(4.04 build 185)
Add(MainForm,2953706,21,105)
{
 Width=414
 Height=319
 Caption="BASS test"
 Position=1
 Point(Handle)
 link(onCreate,4252681:doInit,[])
}
Add(BASS_Init,4252681,98,119)
{
 link(onInit,10183901:doCheck,[])
 link(onError,11232751:doMessage,[(142,132)(142,174)])
 link(Handle,2953706:Handle,[(118,107)(72,107)(72,149)(27,149)])
}
Add(BASS_Version,10183901,154,119)
{
 link(onCheckFailed,109118:doMessage,[(198,132)(198,174)])
}
Add(Message,11232751,154,168)
{
 Message="Error BASS initialization"
 Caption="Error"
 Icon=1
}
Add(Message,109118,210,168)
{
 Message="Incorrect version of BASS library "
 Caption="Error"
 Icon=1
}
Add(BASS_StreamCreateFile,2073512,483,84)
{
 Name="MainSound"
 link(onCreate,10701583:doPlay,[])
 link(onEndPlay,4538403:doWork,[])
 link(onError,13951091:doStrCat,[(532,104)(532,132)])
 link(FileName,12373576:Text,[])
}
Add(Edit,12373576,483,28)
{
 Left=15
 Top=15
 Width=350
 Text=""
}
Add(Button,13089460,301,28)
{
 Left=365
 Top=15
 Width=20
 Caption="..."
 link(onClick,4225408:doExecute,[])
}
Add(ODialog,4225408,350,28)
{
 Filter="Аудио-файлы (*.mp3, *.wav)|*.mp3;*.wav|Все файлы (*.*)|*.*"
 Title="Выберите аудио-файл"
 FileName=""
 link(onExecute,10183690:doEvent1,[])
}
Add(Message,12393418,595,126)
{
 Caption="Error"
 Icon=1
}
Add(StrCat,13951091,546,126)
{
 Str1="Error opening file: "
 link(onStrCat,12393418:doMessage,[])
}
Add(BASS_ChannelPlay,10701583,595,84)
{
 Channel="MainSound"
 link(onPlay,13470156:doWork,[])
}
Add(BASS_ChannelPosition,9802659,980,133)
{
 Channel="MainSound"
 Mode=2
}
Add(Timer,3915133,875,245)
{
 Enable=1
 link(onTimer,12272575:doData,[])
}
Add(Label,4539506,1106,203)
{
 Left=345
 Top=70
 Width=10
 Height=17
 Caption="0"
}
Add(DoData,12272575,980,245)
{
 link(onEventData,10482012:doEvent1,[])
 link(Data,9802659:CurPosition,[])
}
Add(BASS_ChannelAttribute,3018529,343,378)
{
 Channel="MainSound"
 Attrib=1
}
Add(Label,2006297,126,329)
{
 Left=10
 Top=95
 Width=39
 Height=17
 Caption="Volume"
}
Add(Label,4751666,126,427)
{
 Left=10
 Top=115
 Width=43
 Height=17
 Caption="Balance"
}
Add(ScrollBar,2661636,196,329)
{
 Left=60
 Top=95
 Width=280
 Position=100
 link(onPosition,15138911:doOperation,[])
}
Add(ScrollBar,12172482,196,427)
{
 Left=60
 Top=115
 Width=280
 Max=100
 Min=-100
 link(onPosition,15100795:doOperation,[])
}
Add(Label,4641453,343,329)
{
 Left=345
 Top=95
 Width=10
 Height=17
 Caption="1"
}
Add(Label,11822151,343,427)
{
 Left=345
 Top=115
 Width=10
 Height=17
 Caption="0"
}
Add(Math,15138911,245,329)
{
 OpType=3
 Op2=100
 link(onResult,15216955:doEvent1,[])
}
Add(Hub,15216955,294,329)
{
 link(onEvent1,4641453:doText,[])
 link(onEvent2,3018529:doAttribute,[(334,342)(334,384)])
}
Add(Math,15100795,245,427)
{
 OpType=3
 Op2=100
 link(onResult,6863995:doEvent1,[])
}
Add(Hub,6863995,294,427)
{
 link(onEvent1,11822151:doText,[])
 link(onEvent2,6637138:doAttribute,[(334,440)(334,482)])
}
Add(BASS_ChannelAttribute,6637138,343,476)
{
 Channel="MainSound"
 Attrib=2
}
Add(DoData,14122420,1169,189)
{
 link(onEventData,884648:doMax,[])
 link(Data,9802659:Length,[(1175,177)(993,177)])
}
Add(Hub,10482012,1029,245)
{
 OutCount=3
 link(onEvent1,2432569:doConvert,[(1053,251)(1053,209)])
 link(onEvent2,884648:doPosition,[(1212,258)(1212,188)])
 link(onEvent3,15104723:doData,[(1077,265)(1077,370)])
}
Add(ScrollBarEx,884648,1225,182)
{
 Left=60
 Top=70
 Width=280
 ScrollMode=1
 Point(doMax)
 link(onPosition,9802659:doPosition,[(1266,188)(1266,116)(968,116)(968,139)])
}
Add(PaintBox,8758719,931,329)
{
 Left=5
 Top=140
 Width=385
 Height=120
 link(onBeforeDraw,5631139:doDraw,[])
}
Add(BASS_ChannelVisibleSpectrum,5631139,987,329)
{
 SoundStream="MainSound"
 Mode=1
 link(WindowsHandle,8758719:Bitmap,[(993,317)(975,317)(975,372)(937,372)])
}
Add(Timer,5820169,875,329)
{
 Interval=50
 Enable=1
 link(onTimer,8758719:doRefresh,[])
}
Add(Label,13798880,1148,413)
{
 Left=135
 Top=270
 Width=61
 Height=17
 Caption="CPU usage:"
}
Add(Label,2032143,1148,364)
{
 Left=200
 Top=270
 Width=10
 Height=17
 Caption="0"
}
Add(BASS_CPU,6750767,1092,315)
{
}
Add(DoData,15104723,1092,364)
{
 link(onEventData,2032143:doText,[])
 link(Data,6750767:UsageCPU,[])
}
Add(LineBreakEx,16131393,735,294)
{
 Caption="end"
 Type=1
 link(OnEvent,15210022:doEvent1,[])
}
Add(Hub,15210022,784,294)
{
 link(onEvent1,3915133:doStop,[(854,300)(854,258)])
 link(onEvent2,5820169:doStop,[(827,307)(827,342)])
}
Add(LineBreakEx,4538403,539,91)
{
 Caption="end"
}
Add(LineBreakEx,12609634,735,238)
{
 Caption="start"
 Type=1
 link(OnEvent,4727678:doEvent1,[])
}
Add(Hub,4727678,784,238)
{
 OutCount=3
 link(onEvent1,14122420:doData,[(835,244)(835,195)])
 link(onEvent2,3915133:doTimer,[])
 link(onEvent3,5820169:doTimer,[(833,258)(833,335)])
}
Add(LineBreakEx,13470156,637,84)
{
 Caption="start"
}
Add(LineBreakEx,14335271,350,140)
{
 Caption="play"
}
Add(Hub,10183690,399,28)
{
 link(onEvent1,12373576:doText,[])
 link(onEvent2,12509385:doWork,[])
}
Add(Hub,13758950,385,77)
{
 link(onEvent1,11302594:doWork,[])
 link(onEvent2,2073512:doCreate,[])
}
Add(LineBreakEx,2918801,350,189)
{
 Caption="stop"
}
Add(LineBreakEx,11302594,420,77)
{
 Caption="stop"
}
Add(LineBreakEx,7142637,329,77)
{
 Caption="play"
 Type=1
 link(OnEvent,13758950:doEvent1,[])
}
Add(LineBreakEx,12509385,427,35)
{
 Caption="play"
}
Add(Button,4150053,301,140)
{
 Left=15
 Top=40
 Caption="Play"
 link(onClick,14335271:doWork,[])
}
Add(Button,8928144,301,189)
{
 Left=75
 Top=40
 Caption="Stop"
 link(onClick,2918801:doWork,[])
}
Add(BASS_ChannelStop,16334672,539,252)
{
 Channel="MainSound"
 link(onStop,4808181:doWork,[])
}
Add(LineBreakEx,4808181,588,252)
{
 Caption="end"
}
Add(LineBreakEx,7177845,483,252)
{
 Caption="stop"
 Type=1
 link(OnEvent,16334672:doStop,[])
}
Add(Label,5997319,1274,210)
{
 Left=10
 Top=70
 Width=41
 Height=17
 Caption="Position"
}
Add(DateConvertor,2432569,1064,203)
{
 Mode=16
 Format="HH:mm:ss"
 link(onResult,4539506:doText,[])
}
